{% extends "pages/main.html" %}

{% block title %}Search{% endblock %}
{% block style %}
<style>
.output_img{
   margin: 10px 10px 10px 10px;
	padding-top: 100px;
}
</style>

{% load static %}
<link href="{% static 'css/upload-image.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}
{% block content %}


<div class="output_img">
   <div class="row">
      <div class="col-sm-3">
         <center>
            <h3>Request - Image</h3>
         </center>
         
         <img class="uploadimg" width=100% src="../upload_img/{{origin}}" id="preview" class="img-thumbnail">
      </div>
      <div class="col-sm-9">
         <div class="center">
            <div class="row">
               {% for infor in information %}
               <div class="col-3 mb-4">
                  <img style="display:block;" width="100%" src="{{infor.img}}">
                  <div class="down-content">
                     <center>
                        {{infor.name}} : {{infor.description}}
                        {% comment %} this is img's name {% endcomment %}
                     </center>
                  </div>

               </div>
               {% endfor %}
            </div>
         </div>
      </div>
   </div>
</div>

<script>
   var inputs = document.querySelectorAll('.inputfile');
   Array.prototype.forEach.call(inputs, function (input) {
      var label = input.nextElementSibling;
      input.addEventListener('change', function (e) {
         var fileName = e.target.value.split('\\').pop();
         label.innerHTML = fileName;
         var reader = new FileReader();
         reader.onload = function (e) {
            // get loaded data and render thumbnail.
            document.getElementById("preview").src = e.target.result;
         };
         // read the image file as a data URL.
         reader.readAsDataURL(this.files[0]);
      });
   });
</script>

{% if origin is not None %}   
<script type="text/javascript">

    $('.output_img')[0].scrollIntoView({
    behavior: "smooth", // or "auto" or "instant"
    block: "start" // or "end"
   });
</script>   

{% endif %}

{% endblock %}